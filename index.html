<!DOCTYPE html>
<html lang="en">
  <head>
    <!--
      Reading this? Looking for an awesome software developer? You might want to check out
      sdufresne.info/cv :-)
    -->
    <title>Stefan du Fresne - Software Developer, Imagineer and general human</title>
    <meta name="description" content="Personal homepage of Stefan du Fresne, software developer aka software engineer aka code craftsman aka software imagineer." />
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="//fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
    <style type="text/css">
      /* normal screens */
      img#avatar {
        /* This calculates to ~307 across: 30% (#contact width) of 1024 */
        max-width: 100%;
      }

      #site-wrapper {
        max-width: 1024px;
        font-size: 175%;
        line-height: 3ex;
        padding-right: 1em;
        padding-left: 1em;
        margin: 0 auto;
      }

      #spiel {
        float: left;
        width: 60%;
      }
      #contact {
        width: 30%;
        float: right;
      }

      /* anti-spam */
      .email-address {
        unicode-bidi: bidi-override;
        direction: rtl;
      }

      /* actual styling */
      body {
        font-family: "Open Sans","Helvetica Neue","Helvetica",sans-serif;
        color: #333;
      }

      .greeting {
        font-family: "Helvetica",sans-serif;
        font-weight: 100;
        line-height: 2ex;
      }

      .job-title {
        cursor: pointer;
      }

      .job-title, a, a:visited, a:hover, a:active {
        font-weight: bold;
        text-decoration: none;
        color: #333;
        background-color: #FFEFEF;
        margin: -0.125em;
        padding: 0.125em;
      }
      .job-title:hover, a:hover {
        color: #FFEFEF;
        background-color: #A00;
      }

      #contact a,
      #contact a:visited,
      #contact a:hover,
      #contact a:active {
        font-weight: inherit;
        color: #406CB6;
        background-color: inherit;
      }
      #contact a:hover {
        color: red;
      }

      #contact {
        font-size: 80%;
        line-height: 2.5ex;
      }

      #contact ul {
        padding-left: 0;
      }

      #contact li {
        list-style-type: none;
        overflow: hidden;
      }

      #minor-contacts {
        font-size: 80%;
      }

      /* smaller screens */
      @media screen and (max-width: 700px) {
        img {
          display: none;
        }

        #site-wrapper {
          padding: 0;
          margin: 0;
          padding-top: 1em;
          overflow: auto;
          position: relative;
        }
        #site-wrapper:before {
          content: "";
          position: fixed;
          left: 0;
          right: 0;
          top: 0;
          margin: 0;
          padding: 0;
          z-index: -1;

          display: block;
          background-image: url("./assets/img/actually-me-2015-1x.jpg");
          background: -webkit-image-set( url(./assets/img/actually-me-2015-1x.jpg) 1x, url(./assets/img/actually-me-2015-2x.jpg) 2x );
          background-size: cover;
          background-position: center top;
          background-repeat: no-repeat;
          width: 100%;
          height: 100%;

          -webkit-filter: grayscale(60%);
          -moz-filter: grayscale(60%);
          -o-filter: grayscale(60%);
          -ms-filter: grayscale(60%);
          filter: grayscale(60%);
        }
        #contact {
          padding: 1em 0;
          background-color: white;
          float: none;
          width: 100%;
          /* shamelessly stolen from bootstrap */
          -webkit-border-radius: 3px;
             -moz-border-radius: 3px;
                  border-radius: 3px;
        }
        #contact hr {
          display: none;
        }
        #major-contacts {
          float: left;
          padding-left: 1em !important;
          width: 60%;
          margin: 0;
          line-height: 3ex;
        }

        #minor-contacts {
          float: right;
          width: 30%;
          margin: 0;
        }
        #sigh {
          clear: both;
        }
        #spiel {
          float: none;
          width: inherit;
          margin: 1em;
          margin-top: 0;
          padding: 1em;
          padding-top: 0;
          background-color: white;
          background-color: rgba(255,255,255, 0.95);

          z-index: 9999;

          /* shamelessly stolen from bootstrap */
          border: 1px solid #e3e3e3;
          -webkit-border-radius: 10px;
             -moz-border-radius: 10px;
                  border-radius: 10px;
          -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.05);
             -moz-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.05);
                  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.05);
        }
      }
      @media screen and (max-width: 700px) {
        #site-wrapper {
          font-size: 150%;
        }
      }
      @media screen and (max-width: 600px) {
        #site-wrapper {
          font-size: 115%;
        }
      }
      @media screen and (max-width: 350px) {
        #site-wrapper {
          font-size: 100%;
        }
      }
    </style>
  </head>
  <body>
    <main id="site-wrapper">
      <div id="spiel"><!-- ;-) -->
        <h1 class="greeting" id="greeting">Hello,</span>
        <h2 class="greeting">My name is Stefan du Fresne</h2>
        <p>I'm a <span class="job-title">software developer</span> from New Zealand. I currently live in London.</p>
        <p>It's fair to say I've helped to build a reasonably large amount of software. Some of it works!</p>
        <p>Currently I'm helping <a href="http://medicmobile.org">these delightful folk</a> build mobile health tools for remote regions.</p>
        <p>We use Angular, Node.js and all the hipster tech. Functional programming&mdash;Scala and Clojure especially&mdash;is cool too. Whatever works.</p>
        <p>Sometimes I take bad photos of things and fiddle with them on computers.</p>
        <p>I often go by SCdF on the Internet.</p>
      </div>
      <div id="contact">
        <img
          id="avatar"
          alt="Picture of Stefan du Fresne"
          src="./assets/img/actually-me-2015-1x.jpg"
          srcset="./assets/img/actually-me-2015-1x.jpg 1x, ./assets/img/actually-me-2015-2x.jpg 2x">
        <ul id="major-contacts">
          <li><span class="email-address">ofni.enserfuds@nafets</span></li>
          <li><a href="https://keybase.io/scdf">Keybase</a></li>
          <li><a href="https://github.com/SCdF/">Github</a></li>
        </ul>
        <hr>
        <ul id="minor-contacts">
          <li><a href="http://stackoverflow.com/users/1666/scdf">StackOverflow</a></li>
          <li><a href="https://news.ycombinator.com/user?id=SCdF">HackerNews</a></li>
          <li><a href="http://nz.linkedin.com/pub/stefan-du-fresne/47/687/797">LinkedIn</a></li>
          <li><a href="https://twitter.com/SCdF47">Twitter</a></li>
          <li><a href="https://www.flickr.com/photos/stefandufresne/">Flickr</a></li>
          <li><a href="./cv.html">CV</a></li>
        </ul>
        <div id="sigh"></div>
      </div>
      <script type="text/javascript">
        'use strict';

        var sdufresne = {
          greeting: function() {
            var hours = new Date().getHours();
            switch (true) {
              case (hours < 12): return 'Good Morning';
              case (hours < 18): return 'Good Afternoon';
              default: return 'Good Evening';
            }
          },

          reverse: function(s) {
            return s.split('').reverse().join('');
          },

          // I'm a <XXX> from New Zeaâ€¦
          title: function(currentTitle, all) {
            var jobTitles = [
              'software developer',
              'developer',
              'coder',
              'programmer',
              ];

            var allJobTitles = jobTitles.concat([
              'software craftsman',
              'software imagineer',
              'artisan software sculptor',
              'gentle code crooner',
              'code craftsman',
              'code monkey',
              'beard horticulturist',
              'non-brogrammer programmer',
              'thoroughly average programmer',
              'large font aficionado',
              'meme wrangler',
              'good enough dev for govenment work',
              '(defn stefan [] (fn[work] (do-work work)))',
              'software witch',
              'code-typhoon',
              'greatly enlarged micro-organsim',
            ]);

            var thisTime = all ? allJobTitles : jobTitles;

            var newTitle = thisTime[Math.floor(Math.random()*thisTime.length)];
            if (newTitle === currentTitle) {
              return sdufresne.title(currentTitle, all);
            } else {
              return newTitle;
            }
          }
        };

        document.addEventListener("DOMContentLoaded", function() {
          document.getElementById('greeting').innerHTML = sdufresne.greeting();
          var emailEl = document.getElementsByClassName('email-address')[0];
          emailEl.innerHTML = '<a href="mailto:' +
            sdufresne.reverse(emailEl.innerHTML) +
            '">'+emailEl.innerHTML+'</a>';
          var jobTitle = document.getElementsByClassName('job-title')[0];
          jobTitle.innerHTML = sdufresne.title();
          jobTitle.onmousedown = function(e) {
            e.preventDefault();
          };
          jobTitle.onclick = function(e) {
            jobTitle.innerHTML = sdufresne.title(jobTitle.innerHTML, true);
          };
        });
      </script>
    </main>
  </body>
</html>
